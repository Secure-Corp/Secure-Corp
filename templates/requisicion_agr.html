{% extends "layout.html" %}

{% block content %}
<h1>Agregar Requisición</h1>
<form action="/requisicion_agr" method="POST">
    <div class="form-group">
        <label for="folio">Folio</label>
        <input type="text" class="form-control" name="folio" id="folio">
    </div>
    <div class="form-group">
        <label for="fechaElab">Fecha de Elaboración</label>
        <input type="date" class="form-control" name="fechaElab" id="fechaElab" required min="{{ today_date }}">
    </div>
    <div class="form-group">
        <label for="fechaRecluta">Fecha de Reclutamiento</label>
        <input type="date" class="form-control" name="fechaRecluta" id="fechaRecluta" required>
    </div>
    <div class="form-group">
        <label for="fechaInicVac">Fecha de Inicio de Vacante</label>
        <input type="date" class="form-control" name="fechaInicVac" id="fechaInicVac" required>
    </div>
    <div class="form-group">
        <label for="motivoRequisicion">Motivo de Requisición</label>
        <input type="text" class="form-control" name="motivoRequisicion" id="motivoRequisicion" required pattern="[A-Za-z\s]+" minlength="5" maxlength="280">
    </div>
    <div class="form-group">
        <label for="motivoEspecifique">Especificación de Motivo</label>
        <input type="text" class="form-control" name="motivoEspecifique" id="motivoEspecifique" pattern="[A-Za-z\s]*" minlength="30" maxlength="280">
    </div>
    <div class="form-group">
        <label for="tipoVacante">Tipo de Vacante</label>
        <input type="text" class="form-control" name="tipoVacante" id="tipoVacante" required pattern="[A-Za-z\s]+">
    </div>
    <div class="form-group">
        <label for="nomSolicita">Solicitante</label>
        <input type="text" class="form-control" name="nomSolicita" id="nomSolicita" required pattern="[A-Za-z\s]+">
    </div>
    <div class="form-group">
        <label for="idPuesto">ID Puesto</label>
        <input type="number" class="form-control" name="idPuesto" id="idPuesto" required>
    </div>
    <div class="form-group">
        <label for="idArea">ID Área</label>
        <input type="number" class="form-control" name="idArea" id="idArea" required>
    </div>
    <div class="form-group">
        <label for="nomAutoriza">Autorizante</label>
        <input type="text" class="form-control" name="nomAutoriza" id="nomAutoriza" required pattern="[A-Za-z\s]+">
    </div>
    <div class="form-group">
        <label for="nomRevisa">Revisor</label>
        <input type="text" class="form-control" name="nomRevisa" id="nomRevisa" required pattern="[A-Za-z\s]+">
    </div>
    <button type="submit" class="btn btn-primary">Agregar</button>
</form>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        var today = new Date().toISOString().split('T')[0];
        document.getElementById('fechaElab').setAttribute('min', today);
        document.getElementById('fechaRecluta').setAttribute('min', today);
        document.getElementById('fechaInicVac').setAttribute('min', today);

        document.getElementById('fechaElab').addEventListener('change', function() {
            var elabDate = new Date(this.value);
            elabDate.setDate(elabDate.getDate() + 1);
            var minDate = elabDate.toISOString().split('T')[0];
            document.getElementById('fechaRecluta').setAttribute('min', minDate);
            document.getElementById('fechaInicVac').setAttribute('min', minDate);
        });
    });
</script>
{% endblock %}
